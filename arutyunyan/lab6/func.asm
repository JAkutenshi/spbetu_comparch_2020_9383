.model flat,c

.code
func proc C

	mov edi, [esp + 4]		; result
	mov ebx, [esp + 8]		; LGrInt
	mov esi, [esp + 12]		; randoms
	mov ecx, [esp + 16]		; NumRanDat

	random_array_loop:
		; ??????? ????????? ????? ?? randoms
		mov eax, [esi]
		add esi, 4

	; ????, ???? eax < [ebx]
	eax_is_less_than_current:
		cmp eax, [ebx]
		jge continue

		; ???? ??????, ?? ???? ?????? ?? ??????? ??????
		add ebx, 4

		; ????? ??????????, ??? ???? ?? ??????? ??????? ???????, ?? ? ? ?????????? ? ??? ????? ??????
		add edi, 4
		jmp eax_is_less_than_current

	continue:
		; ????? ?? ????? ?????, ??? eax >= [ebx]
		cmp eax, [ebx+4]
		; ???? eax > [ebx+1], ?? ? ????? ?????? ?? ??????????? [ebx] ? [edi]
		jg eax_is_more_than_ebx_plus_1

		; ???? eax <= [ebx+4], ?? ?????? results
		mov eax, [edi]
		add eax, 1
		mov [edi], eax
		jmp loop_end

	eax_is_more_than_ebx_plus_1:
		add ebx, 4

		add edi, 4
		jmp continue ; ????? ????????? ? ?????????? ???????? ? ??????? ?????? ? eax

	loop_end:
		dec ecx
		cmp ecx, 0
		jne random_array_loop

	ret

func endp
end